@model List<CapaEntidad.DetalleVenta>
@{
    ViewBag.Title = "Mis Compras";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .header-transaccion {
        background-color: #8b0000; /* Burdeos */
        color: white;
        padding: 15px;
        border-radius: 12px;
    }

    .card-compra {
        background-color: #2c2c2c; /* Fondo oscuro */
        color: #fff;
        border: 1px solid #444;
        border-radius: 10px;
        margin-bottom: 20px;
    }

    .table-dark {
        background-color: #333;
    }

        .table-dark th {
            color: #fff;
        }

    .btn-outline-light-custom {
        border-color: #bc8f8f;
        color: #fff;
    }

        .btn-outline-light-custom:hover {
            background-color: #bc8f8f;
            color: #000;
        }
</style>

<div class="container mt-5">
    <div class="row">
        <div class="col-sm-12">
            @if (Model.Count > 0)
            {
                foreach (var item in Model)
                {
                    <div class="card-compra shadow-lg">
                        <div class="header-transaccion">
                            <h5 class="mb-0">ID Transacción: <strong>@item.IdTransaccion</strong></h5>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-dark table-bordered text-white">
                                    <thead>
                                        <tr>
                                            <th>Imagen</th>
                                            <th>Producto</th>
                                            <th>Precio ($ USD)</th>
                                            <th>Cantidad</th>
                                            <th>Total ($ USD)</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="text-center">
                                                <img class="rounded shadow" src="@item.oProducto.RutaImagen" alt="@item.oProducto.Nombre" style="width: 100px; height: 100px;" />
                                            </td>
                                            <td class="align-middle">@item.oProducto.Nombre</td>
                                            <td class="align-middle">$ @item.oProducto.Precio.ToString("F2") USD</td>
                                            <td class="align-middle">@item.Cantidad</td>
                                            <td class="align-middle">$ @item.Total.ToString("F2") USD</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="alert alert-warning text-center mt-5">
                    <h5>No tienes compras registradas.</h5>
                    <a href="@Url.Action("Index", "Tienda")" class="btn btn-outline-light-custom mt-3">
                        <i class="fas fa-shopping-bag"></i> Ir a la tienda
                    </a>
                </div>
            }
        </div>
    </div>
</div>
